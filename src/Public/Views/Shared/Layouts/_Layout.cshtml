@inject IStringLocalizer<LayoutViewModel> Localizer;
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>
        @(string.IsNullOrEmpty(ViewData["Title"]?.ToString()) 
            ? Localizer["Hyelin Fanmeeting 2025"]
            : $"{ViewData["Title"]} - {Localizer["Hyelin Fanmeeting 2025"]}")
    </title>

    <link rel="icon" href="~/favicon.ico" sizes="32x32">
    <link rel="apple-touch-icon" href="~/images/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="~/css/main.min.css" asp-append-version="true">
    <partial name="_LocalizedStyles" />
    @RenderSection("Styles", required: false)

    <script defer src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script defer src="~/js/main.min.js" asp-append-version="true"></script>
    @RenderSection("Scripts", required: false)
</head>
<body class="h-100">

    <header class="navbar navbar-expand-sm fixed-top">
        <div class="container-fluid position-relative">

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="@Localizer["Toggle navigation"]">
                <span class="navbar-toggler-icon"></span>
            </button>

            <nav id="navbar-menu" class="collapse navbar-collapse">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a asp-controller="Home" asp-action="Index" asp-fragment="top" class="nav-link">@Localizer["Home"]</a>
                    </li>
                    <li class="nav-item">
                        <a asp-controller="Home" asp-action="Index" asp-fragment="venue-info" class="nav-link">@Localizer["Venue"]</a>
                    </li>
                    <li class="nav-item">
                        <a asp-controller="Home" asp-action="Index" asp-fragment="event-info" class="nav-link">@Localizer["Event"]</a>
                    </li>
                    <li class="nav-item">
                        <a asp-controller="Home" asp-action="Index" asp-fragment="reserve-seats" class="nav-link">@Localizer["Reserve a Seat"]</a>
                    </li>
                </ul>
            </nav>

            <div id="culture-switcher">
                <vc:culture-switcher />
            </div>

        </div>
    </header>

    @*
        See Bootstrap PR #41016 for details about the bug I'm trying to fix.

        The root margin needs to be as narrow as possible. This narrows the 
        observable test area so that small sections are not skipped.

        The root margin cannot be narrower than the intervals set in the 
        thresholds. Otherwise, it might not be notified of a section being 
        visible, causing no section to be "active".

        Using these constraints, I have configured the scrollspy.

        Unfortunately, a new problem is introduced: If the last section is not 
        tall enough to reach the observable test area, then it can never be 
        made "active"... I don't see an easy way to fix this.
    *@
    <main
        data-bs-root-margin="-75px 0px -75% 0px"
        data-bs-smooth-scroll="false"
        data-bs-spy="scroll"
        data-bs-target="#navbar-menu"
        data-bs-threshold="0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0"
    >
        @RenderBody()
    </main>

    <footer class="py-2 text-center">
        <a asp-controller="Legal" asp-action="PrivacyPolicy">@Localizer["Privacy Policy"]</a>
        &centerdot;
        <a asp-controller="Legal" asp-action="TermsOfService">@Localizer["Terms of Service"]</a>
    </footer>
</body>
</html>